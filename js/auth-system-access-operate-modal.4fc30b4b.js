(window.webpackJsonp=window.webpackJsonp||[]).push([["auth-system-access-operate-modal"],{"4d902":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return i})),n("a15b");var a,r=n("a526"),c=n("3bb8");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.a.request({url:a.adminAccessModule,method:c.b.GET,params:e})}function l(e){return r.a.request({url:a.adminAccess,method:c.b.GET,params:e})}function u(e){return r.a.request({url:[a.adminAccess,e].join("/"),method:c.b.DELETE},{isShowErrorMessage:!0,successMessageText:"删除成功"})}function d(e,t){return r.a.request({url:[a.adminAccess,e].join("/"),method:c.b.PATCH,params:t},{isShowErrorMessage:!0,successMessageText:"修改成功"})}function i(e){return r.a.request({url:a.adminAccess,method:c.b.POST,params:e},{isShowErrorMessage:!0,successMessageText:"创建成功"})}!function(e){e.adminAccess="/admin/access",e.adminAccessModule="/admin/access/module"}(a||(a={}))},"8ba4":function(e,t,n){n("23e7")({target:"Number",stat:!0},{isInteger:n("5e89")})},ac16:function(e,t,n){var a=n("23e7"),r=n("825a"),c=n("06cf").f;a({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=c(r(e),t);return!(n&&!n.configurable)&&delete e[t]}})},d4be:function(e,t,n){"use strict";n.r(t),n("8ba4"),n("a9e3"),n("4e82");var a,r=n("7a23"),c=Object(r.createTextVNode)(" 模块 "),o=Object(r.createTextVNode)(" 菜单 "),l=["href"],u=Object(r.createTextVNode)(" 否 "),d=Object(r.createTextVNode)(" 是 "),i=n("5530"),s=n("1da1"),b=n("ade3"),f=(n("2ef0"),n("9839")),m=(n("5704"),n("b558")),O=(n("922d"),n("09d9")),p=(n("f2ef"),n("3af3")),j=(n("cd17"),n("ed3b")),v=(n("96cf"),n("b0c0"),n("159b"),n("b64b"),n("ac16"),n("d3b7"),n("9369")),h=n("4d902"),N=Object(r.defineComponent)({name:"OperateModal",components:(a={},Object(b.a)(a,j.a.name,j.a),Object(b.a)(a,p.a.name,p.a),Object(b.a)(a,p.a.Item.name,p.a.Item),Object(b.a)(a,O.a.name,O.a),Object(b.a)(a,m.a.name,m.a),Object(b.a)(a,f.b.name,f.b),Object(b.a)(a,"ASelectOption",f.b.Option),a),props:{remove:{type:Function},fields:{type:Object,default:function(){return{}}},callback:{type:Function}},setup:function(e){var t=Object(r.ref)(null),n=Object(r.reactive)({visible:!0,confirmLoading:!1,moduleList:[]}),a=Object(r.reactive)({moduleName:"",moduleId:void 0,actionName:"",viewPath:"",type:void 0,url:"",icon:"",sort:1,keepAlive:1});e.fields.moduleId&&(Object.keys(a).forEach((function(t){return a[t]=e.fields[t]})),a.type=-1==e.fields.moduleId?1:2),Object(r.onMounted)(Object(s.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)();case 2:n.moduleList=e.sent;case 3:case"end":return e.stop()}}),e)}))));var c=function(){var r=Object(s.a)(regeneratorRuntime.mark((function r(c){var o,l,u,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),n.confirmLoading=!0,r.prev=2,r.next=5,t.value.validate();case 5:return u=e.fields.id,d=Object(i.a)({},a),null!==(o=d.viewPath)&&void 0!==o||(d.viewPath=""),u&&Reflect.deleteProperty(d,"type"),r.next=11,(u?Object(h.d)(u,d):Object(h.e)(d)).finally((function(){return n.confirmLoading=!1}));case 11:n.visible=!1,null==e||null===(l=e.callback)||void 0===l||l.call(e),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(2),n.confirmLoading=!1;case 19:case"end":return r.stop()}}),r,null,[[2,15]])})));return function(e){return r.apply(this,arguments)}}();return Object(i.a)(Object(i.a)({},Object(r.toRefs)(n)),{},{formRef:t,rules:{moduleName:[{required:!0,message:"模块名称不能为空"}],moduleId:[{required:!0,message:"模块名称不能为空"}],actionName:[{required:!0,message:"请输入菜单名称"}],type:[{required:!0,message:"请选择类型"}],url:[{required:!0,message:"请输入url地址"}]},prefix:"/vue3-antd-admin/",labelCol:{span:4},wrapperCol:{span:20},modelRef:a,constantRouterComponents:v.constantRouterComponents,handleOk:c})}});N.render=function(e,t,n,a,i,s){var b=Object(r.resolveComponent)("a-select-option"),f=Object(r.resolveComponent)("a-select"),m=Object(r.resolveComponent)("a-form-item"),O=Object(r.resolveComponent)("a-input"),p=Object(r.resolveComponent)("a-input-number"),j=Object(r.resolveComponent)("a-form"),v=Object(r.resolveComponent)("a-modal");return Object(r.openBlock)(),Object(r.createBlock)(v,{visible:e.visible,"onUpdate:visible":t[9]||(t[9]=function(t){return e.visible=t}),width:600,title:Number.isInteger(e.fields.id)?"编辑资源":"新增资源","confirm-loading":e.confirmLoading,afterClose:e.remove,onOk:e.handleOk},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(j,{ref:"formRef",model:e.modelRef,"label-col":e.labelCol,"wrapper-col":e.wrapperCol},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(m,{label:"类别",rules:e.rules.type,name:"type"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(f,{value:e.modelRef.type,"onUpdate:value":t[0]||(t[0]=function(t){return e.modelRef.type=t}),disabled:Number.isInteger(e.fields.id),placeholder:"请选择类型"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(b,{value:1},{default:Object(r.withCtx)((function(){return[c]})),_:1}),Object(r.createVNode)(b,{value:2},{default:Object(r.withCtx)((function(){return[o]})),_:1})]})),_:1},8,["value","disabled"])]})),_:1},8,["rules"]),1==e.modelRef.type?(Object(r.openBlock)(),Object(r.createBlock)(m,{key:0,label:"模块名称",rules:e.rules.moduleName,name:"moduleName"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(O,{value:e.modelRef.moduleName,"onUpdate:value":t[1]||(t[1]=function(t){return e.modelRef.moduleName=t}),disabled:Number.isInteger(e.fields.id),placeholder:"请输入模块名称"},null,8,["value","disabled"])]})),_:1},8,["rules"])):Object(r.createCommentVNode)("",!0),2==e.modelRef.type?(Object(r.openBlock)(),Object(r.createBlock)(m,{key:1,label:"模块名称",rules:e.rules.moduleId,name:"moduleId"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(f,{value:e.modelRef.moduleId,"onUpdate:value":t[2]||(t[2]=function(t){return e.modelRef.moduleId=t}),disabled:Number.isInteger(e.fields.id),placeholder:"请选择模块"},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(e.moduleList,(function(e){return Object(r.openBlock)(),Object(r.createBlock)(b,{key:e.id,value:e.id},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(e.moduleName),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","disabled"])]})),_:1},8,["rules"])):Object(r.createCommentVNode)("",!0),2==e.modelRef.type?(Object(r.openBlock)(),Object(r.createBlock)(m,{key:2,label:"菜单名称",rules:e.rules.actionName,name:"actionName"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(O,{value:e.modelRef.actionName,"onUpdate:value":t[3]||(t[3]=function(t){return e.modelRef.actionName=t}),placeholder:"请输入菜单名称"},null,8,["value"])]})),_:1},8,["rules"])):Object(r.createCommentVNode)("",!0),Object(r.createVNode)(m,{label:"文件路径",name:"viewPath",rules:[{required:2==e.modelRef.type,message:"请输入页面对应的文件路径"}]},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(f,{value:e.modelRef.viewPath,"onUpdate:value":t[4]||(t[4]=function(t){return e.modelRef.viewPath=t}),allowClear:1==e.modelRef.type,placeholder:"请选择页面对应的文件路径"},{default:Object(r.withCtx)((function(){return[(Object(r.openBlock)(!0),Object(r.createElementBlock)(r.Fragment,null,Object(r.renderList)(e.constantRouterComponents,(function(e,t){return Object(r.openBlock)(),Object(r.createBlock)(b,{key:t,value:t},{default:Object(r.withCtx)((function(){return[Object(r.createTextVNode)(Object(r.toDisplayString)(t),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value","allowClear"])]})),_:1},8,["rules"]),Object(r.createVNode)(m,{label:"路径",rules:e.rules.url,name:"url"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(O,{value:e.modelRef.url,"onUpdate:value":t[5]||(t[5]=function(t){return e.modelRef.url=t}),placeholder:"请输入路径"},null,8,["value"])]})),_:1},8,["rules"]),Object(r.createVNode)(m,{label:"小图标"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(O,{value:e.modelRef.icon,"onUpdate:value":t[6]||(t[6]=function(t){return e.modelRef.icon=t}),placeholder:"小图标"},null,8,["value"]),Object(r.createElementVNode)("a",{href:"".concat(e.prefix,"#/icons"),target:"_blank"},"可选图标",8,l)]})),_:1}),Object(r.createVNode)(m,{label:"排序"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(p,{value:e.modelRef.sort,"onUpdate:value":t[7]||(t[7]=function(t){return e.modelRef.sort=t}),min:1,placeholder:"排序"},null,8,["value"])]})),_:1}),Object(r.createVNode)(m,{label:"keepAlive",name:"keepAlive"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(f,{value:e.modelRef.keepAlive,"onUpdate:value":t[8]||(t[8]=function(t){return e.modelRef.keepAlive=t}),placeholder:"是否缓存页面"},{default:Object(r.withCtx)((function(){return[Object(r.createVNode)(b,{value:0},{default:Object(r.withCtx)((function(){return[u]})),_:1}),Object(r.createVNode)(b,{value:1},{default:Object(r.withCtx)((function(){return[d]})),_:1})]})),_:1},8,["value"])]})),_:1})]})),_:1},8,["model","label-col","wrapper-col"])]})),_:1},8,["visible","title","confirm-loading","afterClose","onOk"])},t.default=N}}]);